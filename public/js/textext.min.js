/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 @license MIT License
*/
(function(d,g){function b(){}function k(){}function a(){}function c(a,e){"string"===typeof e&&(e=e.split("."));var b=e.join(".").replace(/\.(\w)/g,function(a,c){return c.toUpperCase()}),d=e.shift(),f;typeof(f=a[b])==n&&typeof(f=a[d])!=n&&0<e.length&&(f=c(f,e));return f}function h(){function a(c,d){b.bind(c,function(){return d.apply(e,arguments)})}var c=p.apply(arguments),e=this,b=1===c.length?e:c.shift(),d,c=c[0]||{};for(d in c)a(d,c[d])}function e(a,c){return{input:a,form:c}}var q=(JSON||{}).stringify,
p=Array.prototype.slice,f,n="undefined",m={itemManager:k,plugins:[],ext:{},html:{wrap:'<div class="text-core"><div class="text-wrap"/></div>',hidden:'<input type="hidden" />'},keys:{8:"backspace",9:"tab",13:"enter!",27:"escape!",37:"left",38:"up!",39:"right",40:"down!",46:"delete",108:"numpadEnter"}};if(!q)throw Error("JSON.stringify() not found");f=k.prototype;f.init=function(a){};f.filter=function(a,c){var e=[],d,b;for(d=0;d<a.length;d++)b=a[d],this.itemContains(b,c)&&e.push(b);return e};f.itemContains=
function(a,c){return 0==this.itemToString(a).toLowerCase().indexOf(c.toLowerCase())};f.stringToItem=function(a){return a};f.itemToString=function(a){return a};f.compareItems=function(a,c){return a==c};f=b.prototype;f.init=function(a,c){var e=this,b,f,h;e._defaults=d.extend({},m);e._opts=c||{};e._plugins={};e._itemManager=f=new (e.opts("item.manager"));a=d(a);h=d(e.opts("html.wrap"));b=d(e.opts("html.hidden"));a.wrap(h).keydown(function(a){return e.onKeyDown(a)}).keyup(function(a){return e.onKeyUp(a)}).data("textext",
e);d(e).data({hiddenInput:b,wrapElement:a.parents(".text-wrap").first(),input:a});b.attr("name",a.attr("name"));a.attr("name",null);b.insertAfter(a);d.extend(!0,f,e.opts("ext.item.manager"));d.extend(!0,e,e.opts("ext.*"),e.opts("ext.core"));e.originalWidth=a.outerWidth();e.invalidateBounds();f.init(e);e.initPatches();e.initPlugins(e.opts("plugins"),d.fn.textext.plugins);e.on({setFormData:e.onSetFormData,getFormData:e.onGetFormData,setInputData:e.onSetInputData,anyKeyUp:e.onAnyKeyUp});e.trigger("postInit");
e.trigger("ready");e.getFormData(0)};f.initPatches=function(){var a=[],e=d.fn.textext.patches,c;for(c in e)a.push(c);this.initPlugins(a,e)};f.initPlugins=function(a,e){var c,b,f=[],h;"string"==typeof a&&(a=a.split(/\s*,\s*|\s+/g));for(h=0;h<a.length;h++)if(c=a[h],b=e[c])this._plugins[c]=b=new b,this[c]=function(a){return function(){return a}}(b),f.push(b),d.extend(!0,b,this.opts("ext.*"),this.opts("ext."+c));f.sort(function(a,e){a=a.initPriority();e=e.initPriority();return a===e?0:a<e?1:-1});for(h=
0;h<f.length;h++)f[h].init(this)};f.hasPlugin=function(a){return!!this._plugins[a]};f.on=h;f.bind=function(a,e){this.input().bind(a,e)};f.trigger=function(){var a=arguments;this.input().trigger(a[0],p.call(a,1))};f.itemManager=function(){return this._itemManager};f.input=function(){return d(this).data("input")};f.opts=function(a){var e=c(this._opts,a);return"undefined"==typeof e?c(this._defaults,a):e};f.wrapElement=function(){return d(this).data("wrapElement")};f.invalidateBounds=function(){var a=
this.input(),e=this.wrapElement(),c=e.parent(),b=this.originalWidth+"px",d;this.trigger("preInvalidate");d=a.outerHeight()+"px";a.css({width:b});e.css({width:b,height:d});c.css({height:d});this.trigger("postInvalidate")};f.focusInput=function(){this.input()[0].focus()};f.serializeData=q;f.hiddenInput=function(a){return d(this).data("hiddenInput")};f.getWeightedEventResponse=function(a,e){var c={},b=0;this.trigger(a,c,e);for(var d in c)b=Math.max(b,d);return c[b]};f.getFormData=function(a){a=this.getWeightedEventResponse("getFormData",
a||0);this.trigger("setFormData",a.form);this.trigger("setInputData",a.input)};f.onAnyKeyUp=function(a,e){this.getFormData(e)};f.onSetInputData=function(a,e){this.input().val(e)};f.onSetFormData=function(a,e){this.hiddenInput().val(this.serializeData(e))};f.onGetFormData=function(a,c){var b=this.input().val();c[0]=e(b,b)};d(["Down","Up"]).each(function(){var a=this.toString();f["onKey"+a]=function(e){var c=this.opts("keys")[e.keyCode],b=!0;c&&(b="!"!=c.substr(-1),c=c.replace("!",""),this.trigger(c+
"Key"+a),"Up"==a&&this._lastKeyDown==e.keyCode&&(this._lastKeyDown=null,this.trigger(c+"KeyPress")),"Down"==a&&(this._lastKeyDown=e.keyCode));this.trigger("anyKey"+a,e.keyCode);return b}});f=a.prototype;f.on=h;f.formDataObject=e;f.init=function(a){throw Error("Not implemented");};f.baseInit=function(a,e){a._defaults=d.extend(!0,a._defaults,e);this._core=a;this._timers={}};f.startTimer=function(a,e,c){var b=this;b.stopTimer(a);b._timers[a]=setTimeout(function(){delete b._timers[a];c.apply(b)},1E3*
e)};f.stopTimer=function(a){clearTimeout(this._timers[a])};f.core=function(){return this._core};f.opts=function(a){return this.core().opts(a)};f.itemManager=function(){return this.core().itemManager()};f.input=function(){return this.core().input()};f.val=function(a){var e=this.input();if(typeof a===n)return e.val();e.val(a)};f.trigger=function(){var a=this.core();a.trigger.apply(a,arguments)};f.bind=function(a,e){this.core().bind(a,e)};f.initPriority=function(){return 0};var r=!1,l=d.fn.textext=function(a){var e;
r||null==(e=d.fn.textext.css)||(d("head").append("<style>"+e+"</style>"),r=!0);return this.map(function(){var e=d(this);if(null==a)return e.data("textext");var c=new b;c.init(e,a);e.data("textext",c);return c.input()[0]})};l.addPlugin=function(a,e){l.plugins[a]=e;e.prototype=new l.TextExtPlugin};l.addPatch=function(a,e){l.patches[a]=e;e.prototype=new l.TextExtPlugin};l.TextExt=b;l.TextExtPlugin=a;l.ItemManager=k;l.plugins={};l.patches={}})(jQuery);
(function(d){function g(){}d.fn.textext.TextExtIE9Patches=g;d.fn.textext.addPatch("ie9",g);d=g.prototype;d.init=function(b){if(-1!=navigator.userAgent.indexOf("MSIE 9"))b.on({postInvalidate:this.onPostInvalidate})};d.onPostInvalidate=function(){var b=this.input(),d=b.val();b.val(Math.random());b.val(d)}})(jQuery);/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 @license MIT License
*/
(function(d){function g(){}d.fn.textext.TextExtTags=g;d.fn.textext.addPlugin("tags",g);var b=g.prototype,k="text-tag",a="."+k,c=".text-label",h={tags:{enabled:!0,items:null},html:{tags:'<div class="text-tags"/>',tag:'<div class="text-tag"><div class="text-button"><span class="text-label"/><a class="text-remove"/></div></div>'}};b.init=function(a){this.baseInit(a,h);a=this.input();var c;this.opts("tags.enabled")&&(c=d(this.opts("html.tags")),a.after(c),d(this).data("container",c),this.on({enterKeyPress:this.onEnterKeyPress,
backspaceKeyDown:this.onBackspaceKeyDown,preInvalidate:this.onPreInvalidate,postInit:this.onPostInit,getFormData:this.onGetFormData}),this.on(c,{click:this.onClick,mousemove:this.onContainerMouseMove}),this.on(a,{mousemove:this.onInputMouseMove}));this._originalPadding={left:parseInt(a.css("paddingLeft")||0),top:parseInt(a.css("paddingTop")||0)};this._paddingBox={left:0,top:0};this.updateFormCache()};b.containerElement=function(){return d(this).data("container")};b.onPostInit=function(a){this.addTags(this.opts("tags.items"))};
b.onGetFormData=function(a,c,b){a=13===b?"":this.val();c[200]=this.formDataObject(a,this._formData)};b.initPriority=function(){return 100};b.onInputMouseMove=function(a){this.toggleZIndex(a)};b.onContainerMouseMove=function(a){this.toggleZIndex(a)};b.onBackspaceKeyDown=function(a){a=this.tagElements().last();0==this.val().length&&this.removeTag(a)};b.onPreInvalidate=function(a){a=this.tagElements().last();var c=a.position();0<a.length?c.left+=a.innerWidth():c=this._originalPadding;this._paddingBox=
c;this.input().css({paddingLeft:c.left,paddingTop:c.top})};b.onClick=function(e){function b(a,e){m.data(k,a);m.find(c).text(h.itemManager().itemToString(a));h.updateFormCache();f.getFormData();f.invalidateBounds();e&&f.focusInput()}var h=this,f=h.core();e=d(e.target);var g=0,m;e.is(".text-tags")?g=1:e.is(".text-remove")?(h.removeTag(e.parents(a+":first")),g=1):e.is(c)&&(m=e.parents(a+":first"),h.trigger("tagClick",m,m.data(k),b));g&&f.focusInput()};b.onEnterKeyPress=function(a){a=this.val();a=this.itemManager().stringToItem(a);
this.isTagAllowed(a)&&(this.addTags([a]),this.core().focusInput())};b.updateFormCache=function(){var a=[];this.tagElements().each(function(){a.push(d(this).data(k))});this._formData=a};b.toggleZIndex=function(a){var c=this.input().offset(),b=a.clientX-c.left,d=a.clientY-c.top,h=this._paddingBox;a=this.containerElement();c=a.is(".text-tags-on-top");b=b>h.left&&d>h.top;if(!c&&!b||c&&b)a[(c?"remove":"add")+"Class"]("text-tags-on-top")};b.tagElements=function(){return this.containerElement().find(a)};
b.isTagAllowed=function(a){a={tag:a,result:!0};this.trigger("isTagAllowed",a);return!0===a.result};b.addTags=function(a){if(a&&0!=a.length){var c=this.core(),b=this.containerElement(),d,h;for(d=0;d<a.length;d++)(h=a[d])&&this.isTagAllowed(h)&&b.append(this.renderTag(h));this.updateFormCache();c.getFormData();c.invalidateBounds()}};b.getTagElement=function(a){var c=this.tagElements(),b,h;for(b=0;b<c.length;b++)if(h=d(c[b]),this.itemManager().compareItems(h.data(k),a))return h;return null};b.removeTag=
function(a){var c=this.core(),b;if(a instanceof d)b=a,a.data(k);else if(b=this.getTagElement(a),null===b)return;b.remove();this.updateFormCache();c.getFormData();c.invalidateBounds()};b.renderTag=function(a){var c=d(this.opts("html.tag"));c.find(".text-label").text(this.itemManager().itemToString(a));c.data(k,a);return c}})(jQuery);/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 @license MIT License
*/
(function(d){function g(){}d.fn.textext.TextExtAutocomplete=g;d.fn.textext.addPlugin("autocomplete",g);var b=g.prototype,k={autocomplete:{enabled:!0,dropdown:{position:"below",maxHeight:"100px"}},html:{dropdown:'<div class="text-dropdown"><div class="text-list"/></div>',suggestion:'<div class="text-suggestion"><span class="text-label"/></div>'}};b.init=function(a){var c=this;c.baseInit(a,k);a=c.input();var b;!0===c.opts("autocomplete.enabled")&&(c.on({blur:c.onBlur,anyKeyUp:c.onAnyKeyUp,deleteKeyUp:c.onAnyKeyUp,
backspaceKeyPress:c.onBackspaceKeyPress,enterKeyPress:c.onEnterKeyPress,escapeKeyPress:c.onEscapeKeyPress,setSuggestions:c.onSetSuggestions,showDropdown:c.onShowDropdown,hideDropdown:c.onHideDropdown,toggleDropdown:c.onToggleDropdown,postInvalidate:c.positionDropdown,getFormData:c.onGetFormData,downKeyDown:c.onDownKeyDown,upKeyDown:c.onUpKeyDown}),b=d(c.opts("html.dropdown")),b.insertAfter(a),c.on(b,{mouseover:c.onMouseOver,mousedown:c.onMouseDown,click:c.onClick}),b.css("maxHeight",c.opts("autocomplete.dropdown.maxHeight")).addClass("text-position-"+
c.opts("autocomplete.dropdown.position")),d(c).data("container",b),d(document.body).click(function(a){c.isDropdownVisible()&&!c.withinWrapElement(a.target)&&c.trigger("hideDropdown")}),c.positionDropdown())};b.containerElement=function(){return d(this).data("container")};b.onMouseOver=function(a){a=d(a.target);a.is(".text-suggestion")&&(this.clearSelected(),a.addClass("text-selected"))};b.onMouseDown=function(a){this.containerElement().data("mousedownOnAutocomplete",!0)};b.onClick=function(a){a=d(a.target);
(a.is(".text-suggestion")||a.is(".text-label"))&&this.trigger("enterKeyPress");this.core().hasPlugin("tags")&&this.val("")};b.onBlur=function(a){a=this.containerElement();var c=!0===a.data("mousedownOnAutocomplete");this.isDropdownVisible()&&(c?this.core().focusInput():this.trigger("hideDropdown"));a.removeData("mousedownOnAutocomplete")};b.onBackspaceKeyPress=function(a){(0<this.val().length||this.isDropdownVisible())&&this.getSuggestions()};b.onAnyKeyUp=function(a,c){var b=null!=this.opts("keys."+
c);0<this.val().length&&!b&&this.getSuggestions()};b.onDownKeyDown=function(a){this.isDropdownVisible()?this.toggleNextSuggestion():this.getSuggestions()};b.onUpKeyDown=function(a){this.togglePreviousSuggestion()};b.onEnterKeyPress=function(a){this.isDropdownVisible()&&this.selectFromDropdown()};b.onEscapeKeyPress=function(a){this.isDropdownVisible()&&this.trigger("hideDropdown")};b.positionDropdown=function(){var a=this.containerElement(),c=this.opts("autocomplete.dropdown.position"),b=this.core().wrapElement().outerHeight(),
e={};e["above"===c?"bottom":"top"]=b+"px";a.css(e)};b.suggestionElements=function(){return this.containerElement().find(".text-suggestion")};b.setSelectedSuggestion=function(a){if(a){var c=this.suggestionElements(),b=c.first(),e,g;this.clearSelected();for(g=0;g<c.length;g++)if(e=d(c[g]),this.itemManager().compareItems(e.data("text-suggestion"),a)){b=e.addClass("text-selected");break}b.addClass("text-selected");this.scrollSuggestionIntoView(b)}};b.selectedSuggestionElement=function(){return this.suggestionElements().filter(".text-selected").first()};
b.isDropdownVisible=function(){return!0===this.containerElement().is(":visible")};b.onGetFormData=function(a,c,b){a=this.val();c[100]=this.formDataObject(a,a)};b.initPriority=function(){return 200};b.onHideDropdown=function(a){this.hideDropdown()};b.onToggleDropdown=function(a){this.trigger(this.containerElement().is(":visible")?"hideDropdown":"showDropdown")};b.onShowDropdown=function(a,c){var b=this.selectedSuggestionElement().data("text-suggestion");if(!this._suggestions)return this.trigger("getSuggestions");
d.isFunction(c)?c(this):(this.renderSuggestions(this._suggestions),this.toggleNextSuggestion());this.showDropdown(this.containerElement());this.setSelectedSuggestion(b)};b.onSetSuggestions=function(a,c){var b=this._suggestions=c.result;!1!==c.showHideDropdown&&this.trigger(null===b||0===b.length?"hideDropdown":"showDropdown")};b.getSuggestions=function(){var a=this.val();this._previousInputValue!=a&&(""==a&&(current=null),this._previousInputValue=a,this.trigger("getSuggestions",{query:a}))};b.clearItems=
function(){this.containerElement().find(".text-list").children().remove()};b.renderSuggestions=function(a){var c=this;c.clearItems();d.each(a||[],function(a,b){c.addSuggestion(b)})};b.showDropdown=function(){this.containerElement().show()};b.hideDropdown=function(){var a=this.containerElement();this._previousInputValue=null;a.hide()};b.addSuggestion=function(a){var c=this.opts("autocomplete.render");this.addDropdownItem(c?c.call(this,a):this.itemManager().itemToString(a)).data("text-suggestion",a)};
b.addDropdownItem=function(a){var c=this.containerElement().find(".text-list"),b=d(this.opts("html.suggestion"));b.find(".text-label").html(a);c.append(b);return b};b.clearSelected=function(){this.suggestionElements().removeClass("text-selected")};b.toggleNextSuggestion=function(){var a=this.selectedSuggestionElement(),c;0<a.length?(c=a.next(),0<c.length&&a.removeClass("text-selected")):c=this.suggestionElements().first();c.addClass("text-selected");this.scrollSuggestionIntoView(c)};b.togglePreviousSuggestion=
function(){var a=this.selectedSuggestionElement().prev();0!=a.length&&(this.clearSelected(),a.addClass("text-selected"),this.scrollSuggestionIntoView(a))};b.scrollSuggestionIntoView=function(a){var c=a.outerHeight(),b=this.containerElement(),e=b.innerHeight(),d=b.scrollTop();a=(a.position()||{}).top;var g=null,f=parseInt(b.css("paddingTop"));null!=a&&(a+c>e&&(g=a+d+c-e+f),0>a&&(g=a+d-f),null!=g&&b.scrollTop(g))};b.selectFromDropdown=function(){var a=this.selectedSuggestionElement().data("text-suggestion");
a&&(this.val(this.itemManager().itemToString(a)),this.core().getFormData());this.trigger("hideDropdown")};b.withinWrapElement=function(a){return 0<this.core().wrapElement().find(a).size()}})(jQuery);/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 @license MIT License
*/
(function(d){function g(){}d.fn.textext.TextExtSuggestions=g;d.fn.textext.addPlugin("suggestions",g);d=g.prototype;var b={suggestions:null};d.init=function(d){this.baseInit(d,b);this.on({getSuggestions:this.onGetSuggestions,postInit:this.onPostInit})};d.setSuggestions=function(b,a){this.trigger("setSuggestions",{result:b,showHideDropdown:!1!=a})};d.onPostInit=function(b){this.setSuggestions(this.opts("suggestions"),!1)};d.onGetSuggestions=function(b,a){var c=this.opts("suggestions");c.sort();this.setSuggestions(this.itemManager().filter(c,
a.query))}})(jQuery);/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 @license MIT License
*/
(function(d){function g(){}d.fn.textext.TextExtFilter=g;d.fn.textext.addPlugin("filter",g);d=g.prototype;var b={filter:{enabled:!0,items:null}};d.init=function(d){this.baseInit(d,b);this.on({getFormData:this.onGetFormData,isTagAllowed:this.onIsTagAllowed,setSuggestions:this.onSetSuggestions});this._suggestions=null};d.onGetFormData=function(b,a,c){b=this.val();c="";this.core().hasPlugin("tags")||(this.isValueAllowed(b)&&(c=b),a[300]=this.formDataObject(b,c))};d.isValueAllowed=function(b){var a=this.opts("filterItems")||
this._suggestions||[],c=this.itemManager(),d=!this.opts("filter.enabled"),e;for(e=0;e<a.length&&!d;e++)c.compareItems(b,a[e])&&(d=!0);return d};d.onIsTagAllowed=function(b,a){a.result=this.isValueAllowed(a.tag)};d.onSetSuggestions=function(b,a){this._suggestions=a.result}})(jQuery);/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 @license MIT License
*/
(function(d){function g(){}d.fn.textext.TextExtFocus=g;d.fn.textext.addPlugin("focus",g);d=g.prototype;var b={html:{focus:'<div class="text-focus"/>'}};d.init=function(d){this.baseInit(d,b);this.core().wrapElement().append(this.opts("html.focus"));this.on({blur:this.onBlur,focus:this.onFocus});this._timeoutId=0};d.onBlur=function(b){var a=this;clearTimeout(a._timeoutId);a._timeoutId=setTimeout(function(){a.getFocus().hide()},100)};d.onFocus=function(b){clearTimeout(this._timeoutId);this.getFocus().show()};
d.getFocus=function(){return this.core().wrapElement().find(".text-focus")}})(jQuery);/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 @license MIT License
*/
(function(d){function g(){}d.fn.textext.TextExtPrompt=g;d.fn.textext.addPlugin("prompt",g);var b=g.prototype,k={prompt:"Awaiting input...",html:{prompt:'<div class="text-prompt"/>'}};b.init=function(a){var b;this.baseInit(a,k);b=d(this.opts("html.prompt"));d(this).data("container",b);this.core().wrapElement().append(b);this.setPrompt(this.opts("prompt"));(b=a.input().attr("placeholder"))||(b=this.opts("prompt"));a.input().attr("placeholder","");b&&this.setPrompt(b);0<d.trim(this.val()).length&&this.hidePrompt();
this.on({blur:this.onBlur,focus:this.onFocus,postInvalidate:this.onPostInvalidate,postInit:this.onPostInit})};b.onPostInit=function(a){this.invalidateBounds()};b.onPostInvalidate=function(a){this.invalidateBounds()};b.invalidateBounds=function(){var a=this.input();this.containerElement().css({paddingLeft:a.css("paddingLeft"),paddingTop:a.css("paddingTop")})};b.onBlur=function(a){var b=this;b.startTimer("prompt",0.1,function(){b.showPrompt()})};b.showPrompt=function(){var a=this.input();0!==d.trim(this.val()).length||
a.is(":focus")||this.containerElement().removeClass("text-hide-prompt")};b.hidePrompt=function(){this.stopTimer("prompt");this.containerElement().addClass("text-hide-prompt")};b.onFocus=function(a){this.hidePrompt()};b.setPrompt=function(a){this.containerElement().text(a)};b.containerElement=function(){return d(this).data("container")}})(jQuery);/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 @license MIT License
*/
(function(d){function g(){}d.fn.textext.TextExtAjax=g;d.fn.textext.addPlugin("ajax",g);var b=g.prototype,k={ajax:{typeDelay:0.5,loadingMessage:"Loading...",loadingDelay:0.5,cacheResults:!1,dataCallback:null}};b.init=function(a){this.baseInit(a,k);this.on({getSuggestions:this.onGetSuggestions});this._suggestions=null};b.load=function(a){var b=this,g=b.opts("ajax.data.callback")||function(a){return{q:a}},g=d.extend(!0,{data:g(a),success:function(d){b.onComplete(d,a)},error:function(b,c){console.error(c,
a)}},b.opts("ajax"));d.ajax(g)};b.onComplete=function(a,b){var d=a;this.dontShowLoading();!0==this.opts("ajax.cache.results")&&(this._suggestions=a,d=this.itemManager().filter(a,b));this.trigger("setSuggestions",{result:d})};b.dontShowLoading=function(){this.stopTimer("loading")};b.showLoading=function(){var a=this;a.dontShowLoading();a.startTimer("loading",a.opts("ajax.loading.delay"),function(){a.trigger("showDropdown",function(b){b.clearItems();b.addDropdownItem(a.opts("ajax.loading.message")).addClass("text-loading")})})};
b.onGetSuggestions=function(a,b){var d=this,e=d._suggestions,g=(b||{}).query||"";if(e&&!0===d.opts("ajax.cache.results"))return d.onComplete(e,g);d.startTimer("ajax",d.opts("ajax.type.delay"),function(){d.showLoading();d.load(g)})}})(jQuery);/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 @license MIT License
*/
(function(d){function g(){}d.fn.textext.TextExtArrow=g;d.fn.textext.addPlugin("arrow",g);var b=g.prototype,k={html:{arrow:'<div class="text-arrow"/>'}};b.init=function(a){var b=this;b.baseInit(a,k);b._arrow=a=d(b.opts("html.arrow"));b.core().wrapElement().append(a);a.bind("click",function(a){b.onArrowClick(a)})};b.onArrowClick=function(a){this.trigger("toggleDropdown");this.core().focusInput()}})(jQuery);